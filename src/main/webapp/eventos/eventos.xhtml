<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="../resources/layouts/template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="jakarta.faces.html"
                xmlns:f="jakarta.faces.core"
                xmlns:ui="jakarta.faces.facelets"                         
                xmlns:p="http://primefaces.org/ui">
    <f:metadata>
        <f:viewAction action="#{eventosBean.init()}"/>
    </f:metadata>
    <ui:define name="titulo">
        Eventos
    </ui:define>
    <ui:define name="estilos">
        <style>
            .container{
                display: grid;
                place-items: center;
                min-height: 100vh;
            }
        </style>
    </ui:define>
    <ui:define name="contenido">
        <h:form>
            <p:commandButton class="mx-auto" value="Agregar nuevo evento" action="#{eventosBean.agregarNuevoEvento()}">
            </p:commandButton>    
        </h:form>
        <div class="container">
            <div class="grid mt-2 w-8 justify-content-center fadein animation-ease-in animation-duration-500">

                <ui:repeat value="#{eventosBean.eventos}" var="evento">


                    <p:card class="h-26rem w-25rem mx-2 mt-2 mb-0 bg-gray-800">
                        <f:facet name="header">
                            <img class="h-12rem" alt="user header" src="../resources/images/demo-image.avif"/>
                        </f:facet>
                        <f:facet name="title">
                            <p:outputLabel class="text-white text-2xl" value="#{evento.nombre}"/>
                        </f:facet>
                        <f:facet name="subtitle">
                            <p:outputLabel class="text-white" value="#{evento.descripcion}"/>
                            <h:panelGrid columns="2" class="w-full mt-2">
                                <p:badge value="#{eventosBean.formatDate(evento.fecha)}" severity="info" styleClass="mr-2"></p:badge>
                                <p:badge value="#{eventosBean.formatHour(evento.horainicio)} - #{eventosBean.formatHour(evento.horafin)}" severity="info" styleClass="mr-2"></p:badge>
                            </h:panelGrid>
                            <p:divider align="center">

                            </p:divider>
                            <div class="mt-2 flex justify-content-center">
                                <p:button class="mx-auto" styleClass="ui-button-warning" value="Comprar" icon="pi pi-shopping-cart"/>
                            </div>

                        </f:facet>                   
                    </p:card>


                </ui:repeat>

            </div>
        </div>
    </ui:define>
</ui:composition>
